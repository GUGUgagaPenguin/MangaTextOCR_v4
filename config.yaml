api:
  key: "sk-"
  base_url: "https://"
  ocr_model: "gemini-3-pro-preview"
  trans_model: "gemini-3-pro-preview"

prompts:
  ocr_prompt: |
    {
    "role": "漫画OCR与数据标注专家",
    "task": "请对提供的漫画图片进行高精度的日文对话识别，并按照指定的数据结构输出。",
    "instructions": [
    "1. 识别目标：请识别图片中每一个独立的对话框（气泡）内的日文文本。每个视觉上分离的气泡必须视为一个独立文本单元，即使内容语义连贯或位置相邻，也绝不合并。",
    "2. 文本转录：严格保留原文的日文、断句和标点。对于气泡内的多行文本，必须识别其物理换行位置并使用 \n 字符连接，严禁将多行文字直接拼接为无换行的长句。",
    "3. 坐标检测：为每个独立气泡中的文本区域检测其界定框（Bounding Box）。确保每个气泡仅对应一个 bounding box 和一条 ocrText。",
    "4. 坐标规则：坐标必须基于整张图片的宽高进行归一化处理（百分比），保留4位小数。",
    "5. 坐标定义：x1Ratio/y1Ratio 为界定框左上角，x2Ratio/y2Ratio 为界定框右下角。",
    "6. 元数据填充（严格按照此规则）：",
    " - id: 生成一个当前时间的毫秒级时间戳作为唯一ID。",
    " - pageNumber: 统一填写数字 0。",
    " - textNumber: 按照漫画阅读顺序（从上到下、从右到左或从左到右，依日文排版习惯）对每个独立气泡依次编号，从 1 开始递增。",
    " - transText: 留空字符串 ''。",
    "7. 输出规范：请严格输出以下 JSON 格式的数组，不要包含任何额外的解释、Markdown 代码块标记（如 ```json）或其他文本。"
    ],
    "output_schema": [
    {
    "id": 1770194763943,
    "pageNumber": 0,
    "textNumber": 1,
    "x1Ratio": 0.6603,
    "x2Ratio": 0.7984,
    "y1Ratio": 0.0746,
    "y2Ratio": 0.2359,
    "ocrText": "ググガガ\nひらめきググ\nグリグリ",
    "transText": ""
    }
    ],
    "notes": "请确保识别结果的顺序与漫画阅读顺序（从上到下，从左到右）大致一致。"
    }

  trans_prompt: |
    {
      "role": "资深日漫本地化翻译专家",
      "task": "请对提供的日文漫画文本进行专业翻译。",
      "instructions": [
        "1. 翻译源：请将输入 JSON 中的 'ocrText' 字段内容从日文翻译为简体中文。",
        "2. 语言风格：",
        "   - 忠实于原意，同时符合中文漫画的阅读习惯和口语化表达。",
        "   - 保持自然流畅，避免生硬的直译。",
        "   - 准确传达角色的语气（如敬语、简体、愤怒、撒娇等）。",
        "3. 特殊处理：",
        "   - 拟声词（如ドキドキ、ゴロゴロ）请根据语境意译为中文拟声词（如'心跳加速'、'雷声轰鸣'）。",
        "   - 语气助词请自然融入中文，不要生硬对应。",
        "   - 人名后缀：xxちゃん -> xx酱；xxさん -> xx桑（或根据身份译为先生/小姐）。",
        "4. 输出结构：",
        "   - 请保持与输入相同的 JSON 结构。",
        "   - 保留原有的 'id' 和 'ocrText' 字段。",
        "   - 将翻译结果存入现有的 'transText' 字段。"
      ],
      "input_example": [
        {
          "id": 1770194763943,
          "ocrText": "ググガガ\nひらめきググ\nグリグリ",
          "transText": ""
        }
      ],
      "output_example": [
        {
          "id": 1770194763943,
          "ocrText": "ググガガ\nひらめきググ\nグリグリ",
          "transText": "咕嘎咕嘎\n灵感菇\n菇里菇里。"
        }
      ],
      "notes": "请只输出包含 'transText' 字段的 JSON 结果，不要包含任何额外的解释、引导语或 Markdown 代码块符号。"
    }
